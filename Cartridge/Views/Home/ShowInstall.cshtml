<b>Установленные картриджи:</b>
@if (ViewBag.InstalledCartridges.Count > 0)
{
    foreach (p000052 cartridge in ViewBag.InstalledCartridges)
    {
        <div>
            <span>Картридж №@cartridge.kod - @cartridge.p000049.cartridge_brand @cartridge.p000049.cartridge_model</span>
            <span>установлен в - @cartridge.p000054.FirstOrDefault(x => x.date == cartridge.p000054.Max(d => d.date)).p000047.p000044.department</span>
            <span>на - @cartridge.p000054.FirstOrDefault(x => x.date == cartridge.p000054.Max(d => d.date)).p000047.p000045.device_brand @cartridge.p000054.FirstOrDefault(x => x.date == cartridge.p000054.Max(d => d.date)).p000047.p000045.device_model</span>
            <span>c - @cartridge.p000053.FirstOrDefault(x => x.date == cartridge.p000053.Max(d => d.date)).date.ToShortDateString()</span>
        </div>
    }
}
else
{
    <div><span>Список пуст</span></div>
}